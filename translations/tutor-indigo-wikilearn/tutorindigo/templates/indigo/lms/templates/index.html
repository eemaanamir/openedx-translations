<%page expression_filter="h"/>
<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>
<%!
from django.utils.translation import gettext as _
from django.urls import reverse

from openedx.core.djangolib.markup import HTML, Text
%>

<main id="main" aria-label="Content" tabindex="-1">
    <section class="main-banner">
      <div class="banner-container">
        <div class="text-block">
          <img src="${static.url('images/banner-logo.png')}" width="627" alt="${_('A learning plataform For the movement by the Movement')}" />
          <h1 hidden>${_("Unlock The Worldâ€™s Knowledge")}</h1>
          <p hidden>Any details or captions Any details or captions Any details or captions Any details or captions Any details Any details or captions Any details or captions</p>
        </div>
        <div class="image-block">
          <img src="${static.url('images/banner-image-placeholder.png')}" width="383" alt="{{ INDIGO_WELCOME_MESSAGE }}" />
        </div>
      </div>
    </section>
    <section class="home style-logout">
      <header class="hidden">
        <div class="outer-wrapper">
          <div class="title">
            <div class="heading-group">
              % if homepage_overlay_html:
                ${homepage_overlay_html | n, decode.utf8}
              % else:
                <%include file="index_overlay.html" />
              % endif
            </div>
            % if settings.FEATURES.get('ENABLE_COURSE_DISCOVERY'):
              <div class="course-search">
                <form method="get" action="/courses">
                  <!-- UPDATE IN INDIGO2.1 - Change the structure for search bar  -->
                  <div class="search-field-wrapper">
                    <label class="input-holder"><span class="sr">${_("Search for a course")}</span>
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4ZM2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8C14 9.29583 13.5892 10.4957 12.8907 11.4765L17.7071 16.2929C18.0976 16.6834 18.0976 17.3166 17.7071 17.7071C17.3166 18.0976 16.6834 18.0976 16.2929 17.7071L11.4765 12.8907C10.4957 13.5892 9.29583 14 8 14C4.68629 14 2 11.3137 2 8Z" fill="#9CA3AF"></path>
                        </svg>
                      <input class="search-input" name="search_query" type="text" placeholder="${_("Search for a course")}"></input>
                    </label>
                    <div class="button-holder">
                      <button class="search-button" type="submit">
                        ${_("Search")}
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            % endif

          </div>

          <%include file="index_promo_video.html" />
        </div>

      </header>
      <section class="courses-block">
        <div class="home-tabs hidden">
          <ul>
            <li class="active"><a href="#">${_("Featured")}</a></li>
            <li><a href="#">${_("Recently Added")}</a></li>
            <li><a href="#">${_("All Courses")}</a></li>
          </ul>
        </div>

        <%include file="${courses_list}" />

      </section>
    </section>

    <section class="blog hidden">
      <div class="blog-container">

        <article class="blog-info-post">
          <h2>${_("See what we have been up to")}</h2>
          <a href="#" class="link-read-more">${_("View All News >")}</a>
        </article>

        <article class="blog-post">
          <div class="text-block">
            <div class="blog-header">
              <span class="date">${_("19 April 2021")}</span>
              <span class="tag">${_("Category")}</span>
            </div>

            <h2 class="blog-title">
              ${_("Wikipedia readers in Latin America invited to support 20 years of free knowledge through new fundraising campaign")}
            </h2>

            <span class="author">${_("By Pats Pena")}</span>
            <a href="#" class="link-read-more">${_("Read More >")}</a>
          </div>

          <div class="image-block">
            <img src="${static.url('images/blog-1.jpg')}" alt="">
          </div>
        </article>

        <article class="blog-post">
          <div class="text-block">
            <div class="blog-header">
              <span class="date">${_("26 Februrary 2021")}</span>
              <span class="tag">${_("Category")}</span>
            </div>
            <h2 class="blog-title">${_("Wikipedia needs local journalism and the open Web")}</h2>
            <span class="author">${_("By Jan Gerlach")}</span>
            <a href="#" class="link-read-more">${_("Read More >")}</a>
          </div>
          <div class="image-block">
            <img src="${static.url('images/blog-2.jpg')}" alt="">
          </div>
        </article>

      </div>
    </section>

    <section class="subscription hidden">
      <div class="subscribe-container">
        <div class="text-box">
          <h2>${_("Subscribe to news about ongoing projects and initiatives")}</h2>
        </div>
        <div class="form-box">
          <form action="#">
            <div class="subscribe-form">
              <input type="email" class="form-field form-control" placeholder="Sign up for email updates" />
              <button type="submit" class="form-button">${_("Subscribe")}</button>
            </div>
          </form>
        </div>
      </div>
    </section>

</main>

% if show_homepage_promo_video:
  <section id="video-modal" class="modal home-page-video-modal video-modal">
    <div class="inner-wrapper">
      <iframe title="YouTube Video" width="640" height="360" src="//www.youtube.com/embed/${homepage_promo_video_youtube_id}?showinfo=0" frameborder="0" allowfullscreen></iframe>
    </div>
  </section>
% endif

<%block name="js_extra">
  <script type="text/javascript" src="${static.url('js/slick.min.js')}"></script>
  <script type="text/javascript">
    $(window).load(function() {
        if(getParameterByName('next')) {
            $('#login').trigger("click");
        }
    });
    $(document).ready(function () {
      $('.courses-listing').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        rtl: Boolean('${static.dir_rtl()}' == 'rtl'),
        responsive: [
          {
            breakpoint: 575,
            settings: {
              centerMode: true,
              slidesToShow: 1,
            }
          },
          {
            breakpoint: 900,
            settings: {
              slidesToShow: 2,
            }
          }
        ]
      });
    });
  </script>
</%block>

% if show_signup_immediately is not UNDEFINED:
  ## NOTE: This won't work in production, because anonymous views are cached, so it will
  ## show either with or without this extra js for 3 minutes at a time.
<script type="text/javascript">
  $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif
